<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be My Valentine?</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; }
        /* Custom animations */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Inline SVG Icons
        const HeartIcon = ({ size = 24, className = "" }) => (
            <svg width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path>
            </svg>
        );

        const ValentineApp = () => {
            const [stage, setStage] = useState(0); // 0 = start, 1-4 = pleading, 5 = threat, 6 = success
            const [noButtonPos, setNoButtonPos] = useState({ top: 'auto', left: 'auto' });
            const [noButtonSize, setNoButtonSize] = useState(1);
            const [yesButtonSize, setYesButtonSize] = useState(1);
            const [windowSize, setWindowSize] = useState({ width: 0, height: 0 });
            const [imageError, setImageError] = useState(false);

            useEffect(() => {
                const handleResize = () => {
                    setWindowSize({
                        width: window.innerWidth,
                        height: window.innerHeight,
                    });
                };
                handleResize();
                window.addEventListener('resize', handleResize);
                return () => window.removeEventListener('resize', handleResize);
            }, []);

            useEffect(() => {
                setImageError(false);
            }, [stage]);

            const stages = [
                {
                    text: "Will you be my Valentine?",
                    subtext: "I promise I'm a good catch! üòè",
                    // Happy Panda
                    image: "https://media1.tenor.com/m/T_16_k3yT3QAAAAC/cute-panda.gif",
                    fallbackEmoji: "ü•∫",
                    bgColor: "bg-pink-100"
                },
                {
                    text: "Pretty prease? ü•∫",
                    subtext: "Look at this face!",
                    // Pleading Panda
                    image: "https://media1.tenor.com/m/2i5Wq2j5FPIAAAAC/panda-cute.gif",
                    fallbackEmoji: "ü•∫",
                    bgColor: "bg-red-50"
                },
                {
                    text: "Think again...",
                    subtext: "My heart is breaking! üíî",
                    // Sad/Shocked Panda
                    image: "https://media1.tenor.com/m/eq-I_52H1xQAAAAC/sad-panda.gif",
                    fallbackEmoji: "üò≠",
                    bgColor: "bg-red-100"
                },
                {
                    text: "Last chance!",
                    subtext: "Don't be cold as ice! üßä",
                    // Crying Panda
                    image: "https://media1.tenor.com/m/7aXjP1iDkegAAAAC/sad-panda-crying.gif",
                    fallbackEmoji: "ü•∂",
                    bgColor: "bg-red-200"
                },
                {
                    text: "You are making a mistake.",
                    subtext: "Have a heart!",
                    // Devastated/Dramatic
                    image: "https://media1.tenor.com/m/b5U0iWvF6zUAAAAC/bear-sad.gif",
                    fallbackEmoji: "üíî",
                    bgColor: "bg-red-300"
                },
                {
                    text: "Be my Valentine. Or else.üòà",
                    subtext: "There are two options: Yes, or YES.",
                    // Angry Cat with Knife (Cute but threatening)
                    image: "https://media1.tenor.com/m/J7e9uk2yJHQAAAAC/cat-knife.gif",
                    fallbackEmoji: "üòà",
                    bgColor: "bg-gray-900"
                }
            ];

            const handleNoClick = () => {
                const nextStage = stage < 5 ? stage + 1 : 5;
                setStage(nextStage);

                const padding = 100;
                const randomX = Math.random() * (windowSize.width - padding * 2) + padding;
                const randomY = Math.random() * (windowSize.height - padding * 2) + padding;

                setNoButtonPos({
                    position: 'absolute',
                    top: `${randomY}px`,
                    left: `${randomX}px`,
                });

                setNoButtonSize(prev => Math.max(0.5, prev * 0.8));
                setYesButtonSize(prev => Math.min(3, prev * 1.2));
            };

            const handleYesClick = () => {
                setStage(6);
            };

            if (stage === 6) {
                return (
                    <div className="min-h-screen bg-pink-200 flex flex-col items-center justify-center p-4 relative overflow-hidden font-sans">
                        {/* Confetti */}
                        <div className="absolute inset-0 pointer-events-none">
                            {[...Array(30)].map((_, i) => (
                                <div 
                                    key={i}
                                    className="absolute animate-bounce text-pink-500 opacity-60"
                                    style={{
                                        left: `${Math.random() * 100}%`,
                                        top: `${Math.random() * 100}%`,
                                        animationDelay: `${Math.random() * 2}s`,
                                        fontSize: `${Math.random() * 20 + 20}px`
                                    }}
                                >
                                    ‚ù§Ô∏è
                                </div>
                            ))}
                        </div>

                        <div className="z-10 bg-white p-8 rounded-3xl shadow-2xl text-center max-w-md w-full border-4 border-pink-400 transform transition-all hover:scale-105">
                            <h1 className="text-4xl font-bold text-pink-600 mb-4">YAY!!! ü•πüéâ</h1>
                            <img 
                                // Happy Hugging Pandas
                                src="https://media1.tenor.com/m/l5_u4J3Gk38AAAAC/panda-love.gif" 
                                alt="Happy Hug" 
                                className="w-full h-64 object-contain rounded-xl mb-6"
                            />
                            <p className="text-xl text-gray-700 font-medium">I knew you'd say yes! ‚ù§Ô∏è</p>
                            <button 
                                onClick={() => window.location.reload()}
                                className="mt-6 px-6 py-2 bg-pink-500 text-white rounded-full hover:bg-pink-600 transition font-bold"
                            >
                                Play Again
                            </button>
                        </div>
                    </div>
                );
            }

            const currentContent = stages[stage];
            const isThreatLevel = stage === 5;

            return (
                <div className={`min-h-screen transition-colors duration-700 flex flex-col items-center justify-center p-4 overflow-hidden font-sans ${currentContent.bgColor}`}>
                    
                    {/* Background Decor */}
                    <div className="absolute top-10 left-10 text-pink-300 opacity-50 animate-pulse"><HeartIcon size={48} /></div>
                    <div className="absolute bottom-10 right-10 text-pink-300 opacity-50 animate-pulse"><HeartIcon size={48} /></div>
                    
                    <div className="z-10 text-center max-w-lg w-full">
                        {/* Image Container */}
                        <div className="relative group mx-auto w-64 h-64 mb-8">
                            <div className={`absolute inset-0 rounded-full blur-xl opacity-70 animate-pulse ${isThreatLevel ? 'bg-red-600' : 'bg-pink-400'}`}></div>
                            
                            {!imageError ? (
                                <img 
                                    src={currentContent.image} 
                                    alt="Reaction" 
                                    onError={() => setImageError(true)}
                                    className={`relative w-full h-full object-contain rounded-2xl shadow-xl transition-all duration-500 ${isThreatLevel ? 'grayscale-0 contrast-125' : ''}`}
                                />
                            ) : (
                                <div className="w-full h-full bg-white/50 rounded-2xl flex items-center justify-center text-8xl shadow-xl">
                                    {currentContent.fallbackEmoji}
                                </div>
                            )}
                        
                            {!isThreatLevel && stage > 0 && (
                                <div className="absolute -top-6 -right-6 bg-white p-3 rounded-tr-xl rounded-bl-xl rounded-tl-xl shadow-lg animate-bounce transform rotate-12">
                                    <span className="text-sm font-bold text-pink-500">Please?</span>
                                </div>
                            )}
                            
                            {isThreatLevel && (
                                <div className="absolute -bottom-4 -right-4 text-6xl drop-shadow-lg filter transform -rotate-12">
                                    üî™
                                </div>
                            )}
                        </div>

                        {/* Text */}
                        <h1 className={`text-4xl md:text-5xl font-bold mb-2 transition-colors duration-300 ${isThreatLevel ? 'text-red-600 font-black tracking-widest uppercase' : 'text-pink-600'}`}>
                            {currentContent.text}
                        </h1>
                        <p className={`text-xl mb-12 font-medium ${isThreatLevel ? 'text-white' : 'text-gray-600'}`}>
                            {currentContent.subtext}
                        </p>

                        {/* Buttons */}
                        <div className="relative h-32 flex items-center justify-center gap-8 w-full">
                            
                            <button
                                onClick={handleYesClick}
                                style={{ 
                                    transform: `scale(${yesButtonSize})`,
                                    transition: 'all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)'
                                }}
                                className="z-50 bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full shadow-lg flex items-center gap-2 whitespace-nowrap"
                            >
                                {isThreatLevel ? 'YES (Safe Option)' : 'YES ‚ù§Ô∏è'}
                            </button>

                            <button
                                onClick={handleNoClick}
                                style={
                                    noButtonPos.position === 'absolute' 
                                    ? { 
                                            position: 'fixed', 
                                            top: noButtonPos.top, 
                                            left: noButtonPos.left,
                                            transform: `scale(${noButtonSize})`,
                                            transition: 'all 0.5s ease',
                                            zIndex: 40
                                        }
                                    : {}
                                }
                                className={`
                                    bg-red-400 hover:bg-red-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transition-all duration-300 whitespace-nowrap
                                    ${stage > 0 && noButtonPos.position !== 'absolute' ? 'absolute' : ''}
                                `}
                            >
                                {isThreatLevel ? 'NO' : 'NO'} 
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ValentineApp />);
    </script>
</body>
</html>


