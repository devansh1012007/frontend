<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Be My Valentine? üíñ</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .float-animation {
            animation: float 3s ease-in-out infinite;
        }
        
        .shake-animation {
            animation: shake 0.5s ease-in-out;
        }
        
        .pulse-animation {
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: #f0f;
            position: absolute;
            animation: confetti-fall 3s linear forwards;
        }
        
        @keyframes confetti-fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        .heart {
            color: #ff1744;
            font-size: 2rem;
            display: inline-block;
            animation: heartbeat 1.5s ease-in-out infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            10%, 30% { transform: scale(0.9); }
            20%, 40% { transform: scale(1.1); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        function ValentineProposal() {
            const [stage, setStage] = useState(0);
            const [accepted, setAccepted] = useState(false);
            const [noButtonPosition, setNoButtonPosition] = useState({ x: 0, y: 0 });
            const [noButtonSize, setNoButtonSize] = useState(100);
            const [yesButtonSize, setYesButtonSize] = useState(100);
            const [shake, setShake] = useState(false);

            // Stage configurations
            const stages = [
                {
                    image: "https://i.pinimg.com/originals/57/96/29/579629f1df8f87a4b037b5c1f8d8ca57.gif",
                    text: "Will you be my Valentine?",
                    bgClass: "bg-gradient-to-br from-pink-200 via-red-200 to-pink-300"
                },
                {
                    image: "https://i.pinimg.com/originals/e8/d4/4b/e8d44b84117e52086e45fc7a8f6a3c5c.gif",
                    text: "Pretty please? ü•∫",
                    bgClass: "bg-gradient-to-br from-pink-300 via-red-300 to-rose-300"
                },
                {
                    image: "https://i.pinimg.com/originals/92/6d/9f/926d9f9ae23d3aa8863f3c8b8fa4a1c8.gif",
                    text: "My heart is breaking! üíî",
                    bgClass: "bg-gradient-to-br from-pink-400 via-red-400 to-rose-400"
                },
                {
                    image: "https://i.pinimg.com/originals/c9/59/0f/c9590f59e5b31e734a68b89602569b6d.gif",
                    text: "Don't be cold as ice! üò¢",
                    bgClass: "bg-gradient-to-br from-pink-500 via-red-500 to-rose-500"
                },
                {
                    image: "https://i.pinimg.com/originals/71/3a/32/713a327c44be381cbb685730edc3cdf6.gif",
                    text: "Be my Valentine. Or else. üòæ",
                    bgClass: "bg-gradient-to-br from-gray-900 via-red-900 to-black"
                }
            ];

            const handleNoClick = () => {
                if (stage < 4) {
                    setStage(stage + 1);
                    setNoButtonSize(noButtonSize * 0.8);
                    setYesButtonSize(yesButtonSize * 1.2);
                    setShake(true);
                    setTimeout(() => setShake(false), 500);
                    moveNoButton();
                }
            };

            const moveNoButton = () => {
                const maxX = window.innerWidth - 150;
                const maxY = window.innerHeight - 80;
                const randomX = Math.random() * maxX;
                const randomY = Math.random() * maxY;
                setNoButtonPosition({ x: randomX, y: randomY });
            };

            const handleYesClick = () => {
                setAccepted(true);
                createConfetti();
            };

            const createConfetti = () => {
                const colors = ['#ff1744', '#f50057', '#ff4081', '#e91e63', '#ff6b9d', '#ffb3d9'];
                for (let i = 0; i < 100; i++) {
                    setTimeout(() => {
                        const confetti = document.createElement('div');
                        confetti.className = 'confetti';
                        confetti.style.left = Math.random() * window.innerWidth + 'px';
                        confetti.style.top = '-10px';
                        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                        document.body.appendChild(confetti);
                        setTimeout(() => confetti.remove(), 3000);
                    }, i * 30);
                }
            };

            if (accepted) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-pink-400 via-red-400 to-rose-500 flex items-center justify-center p-4">
                        <div className="text-center">
                            <div className="float-animation">
                                <img 
                                    src="https://i.pinimg.com/originals/58/aa/6d/58aa6d693f79802d861f941723c6c26a.gif" 
                                    alt="Happy Cats"
                                    className="w-64 h-64 md:w-96 md:h-96 mx-auto rounded-3xl shadow-2xl object-cover mb-8"
                                />
                            </div>
                            <h1 className="text-4xl md:text-6xl font-bold text-white mb-4 pulse-animation">
                                YAY! I knew you'd say yes! üéâ
                            </h1>
                            <div className="text-6xl mb-4">
                                <span className="heart">‚ù§Ô∏è</span>
                                <span className="heart" style={{animationDelay: '0.2s'}}>üíï</span>
                                <span className="heart" style={{animationDelay: '0.4s'}}>üíñ</span>
                                <span className="heart" style={{animationDelay: '0.6s'}}>üíó</span>
                            </div>
                            <p className="text-2xl md:text-3xl text-white font-semibold">
                                Best Valentine's Day EVER! üíù
                            </p>
                        </div>
                    </div>
                );
            }

            const currentStage = stages[stage];

            return (
                <div className={`min-h-screen ${currentStage.bgClass} ${shake ? 'shake-animation' : ''} flex items-center justify-center p-4 transition-all duration-500`}>
                    <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 max-w-md w-full text-center relative">
                        <div className="float-animation mb-6">
                            <img 
                                src={currentStage.image} 
                                alt="Cat"
                                className="w-48 h-48 md:w-64 md:h-64 mx-auto rounded-2xl object-cover shadow-lg"
                            />
                        </div>
                        
                        <h1 className={`text-2xl md:text-4xl font-bold mb-8 ${stage === 4 ? 'text-red-600' : 'text-pink-600'}`}>
                            {currentStage.text}
                        </h1>
                        
                        <div className="flex flex-col gap-4 items-center">
                            <button
                                onClick={handleYesClick}
                                style={{ 
                                    width: `${yesButtonSize}%`,
                                    fontSize: `${Math.min(yesButtonSize / 5, 24)}px`
                                }}
                                className="bg-gradient-to-r from-pink-500 to-red-500 text-white font-bold py-4 px-8 rounded-full hover:from-pink-600 hover:to-red-600 transform hover:scale-105 transition-all duration-300 shadow-lg pulse-animation"
                            >
                                YES! üíñ
                            </button>
                            
                            <button
                                onClick={handleNoClick}
                                style={{ 
                                    position: stage > 0 ? 'fixed' : 'relative',
                                    left: stage > 0 ? `${noButtonPosition.x}px` : 'auto',
                                    top: stage > 0 ? `${noButtonPosition.y}px` : 'auto',
                                    width: `${noButtonSize}%`,
                                    fontSize: `${Math.min(noButtonSize / 5, 16)}px`,
                                    transition: 'all 0.3s ease'
                                }}
                                className="bg-gray-400 text-white font-bold py-3 px-6 rounded-full hover:bg-gray-500 shadow-lg"
                            >
                                No
                            </button>
                        </div>
                        
                        {stage === 4 && (
                            <p className="text-red-600 font-bold mt-6 text-lg animate-pulse">
                                Choose wisely... üòº
                            </p>
                        )}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<ValentineProposal />, document.getElementById('root'));
    </script>
</body>
</html>
